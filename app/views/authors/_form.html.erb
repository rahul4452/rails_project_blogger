
<div class="row">

  <div class="col-lg-12 col-md-10 col-s-6">
    <%= form_with(model: author, local: true,id: 'login_form_id',class: 'login_form_class') do |form| %>
      
      <div>  
        <%= form.text_field :username,placeholder: "Username" ,class: "input_class" ,required: true %>
      </div>

      <div>        
        <%= form.text_field :email,placeholder: "Email" ,class: "input_class", pattern: "[a-zA-Z0-9._%+-]+@[a-z0-9.-]+\.[a-zA-Z]{2,4}", required: true ,
        title: "must be correct email" %>
      </div>

      <div>        
        <%= form.password_field :password,placeholder: "Password",id: 'password' ,class: "input_class",required: true, minlength: "6"  %>
      </div>

      <div>        
        <%= form.password_field :password_confirmation,id: 'confirm_password',placeholder: "Confirm Password" ,class: "input_class" %>
        <br><br>
      </div>

      <div class="actions" >
          <%= form.submit %>
      </div>

      <br><br>
    
      <% if author.errors.any? %>
        <div id="error_explanation">
    <!--   <h2>
        <%= pluralize(author.errors.count, "error") %> prohibited this author from being saved:
      </h2> -->

        <ul>
          <% author.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
    </div>
  <% end %>
  </div>
  <div class="col-md-2 col-s-6">
    
  </div>
  
<% end %>
</div>

<script type="text/javascript">
  
  
  $('#login_form_id').on('submit', function () {
    
    var password = $("#password")[0];
    var confirm_password = $("#confirm_password")[0];
    
    if(password.value != confirm_password.value) {
        confirm_password.setCustomValidity("Passwords Don't Match");
    } else {
        confirm_password.setCustomValidity('');
    }

    password.onchange = validatePassword;
    confirm_password.onkeyup = validatePassword;
    return false;
  });
    // function validatePassword(){
    //   var password = document.getElementById("password")
    //   , confirm_password = document.getElementById("confirm_password");

    //   if(password.value != confirm_password.value) {
    //     confirm_password.setCustomValidity("Passwords Don't Match");
    //   } else {
    //     confirm_password.setCustomValidity('');
    //   }

    //   password.onchange = validatePassword;
    //   confirm_password.onkeyup = validatePassword;
    // }


</script>

